name: JQM CI

on: [push]

defaults:
    run:
        working-directory: ./jqm-all

jobs:
    test:
        runs-on: ubuntu-latest
        strategy:
            matrix:
                java: [ 8, 9, 10, 11, 12 ]
        steps:
            - uses: actions/checkout@v2
            - name: Set up java
              uses: actions/setup-java@v1
              with:
                  java-version: ${{ matrix.java }}
            - name: Build
              run: mvn install -DskipTests
            - name: Test
              run: mvn test
            - name: Publish Test Report
              uses: mikepenz/action-junit-report@v1
              with:
                report_paths: '**/TEST-*.xml'
                github_token: ${{ secrets.GITHUB_TOKEN }}

